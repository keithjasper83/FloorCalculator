# Parametric Room Designer - UI Mockup

## Room Settings View - Updated Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Room Settings                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ ROOM TYPE                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Rectangular â”‚ Custom Polygon    â”‚ â”‚ â† Segmented Picker (NEW)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ When "Custom Polygon" selected:    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“ Design Custom Room        > â”‚ â”‚ â† Button launches designer
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Points Defined           6      â”‚ â”‚ â† Shows point count
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ EXPANSION GAP                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Expansion Gap (mm)       10     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ CALCULATED AREAS                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Gross Area          16.00 mÂ²    â”‚ â”‚ â† Polygon area
â”‚ â”‚ Usable Area         15.76 mÂ²    â”‚ â”‚
â”‚ â”‚ Bounding Box        6000Ã—4000mm â”‚ â”‚ â† NEW for polygons
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ WASTE FACTOR                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Waste Factor (%)     7.0        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Room Designer View - CAD Interface

### Initial State (No Points)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ•  Room Designer              Done â”‚ â† Navigation Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ—‘ï¸ Clear]  [âœ“ Close Shape]  [âŸ² Undo] â”‚ â† Toolbar (Close Shape disabled)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚ 
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚ â† Grid canvas
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚   (500mm squares)
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tap to place the first corner pointâ”‚ â† Instructions
â”‚ Points: 0  Grid: 500mm  Zoom: 1.0x â”‚ â† Status
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With Points Placed (Drawing Room)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ•  Room Designer              Done â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ—‘ï¸ Clear]  [âœ“ Close Shape]  [âŸ² Undo] â”‚ â† Close Shape now enabled
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â—â”€â”€â”€â”€â”€â”€â”€6000mmâ”€â”€â”€â”€â”€â”€â”€â—   â”Š   â”‚ â† Points (â—) and walls
â”‚   â”Š   â”‚   â”Š   â”Š   â”Š   â”Š   â”‚   â”Š   â”‚
â”‚   â”Š   â”‚   â”Š   â”Š   â”Š   â”Š   â”‚   â”Š   â”‚
â”‚ 4000mmâ”‚   â”Š   â”Š   â”Š   â”Š2000mm  â”Š   â”‚ â† Dimension labels
â”‚   â”Š   â”‚   â”Š   â”Š   â”Š   â”Š   â—   â”Š   â”‚
â”‚   â”Š   â”‚   â”Š   â”Š   â”Š   â”Š   â”‚   â”Š   â”‚
â”‚   â”Š   â”‚   â”Š   â—â”€â”€â”€2000mmâ”€â”€â”€â”˜   â”Š   â”‚ â† L-shaped room
â”‚   â”Š   â”‚   â”Š2000mm  â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â—â”€â”€â”€â”˜   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”‚   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”Š   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tap 'Close Shape' when done, or    â”‚
â”‚ continue adding points              â”‚
â”‚ Points: 6  Grid: 500mm  Zoom: 1.0x â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Zoom and Pan
```
Gestures:
- Pinch out/in: Zoom
- One finger drag: Pan
- Tap: Add point

Zoomed In View (scale 2.0x):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â—â”€â”€â”€â”€â”€â”€â”€6000mmâ”€â”€â”€â”€â”€â”€â”€â—            â”‚
â”‚   â”‚                    â”‚            â”‚
â”‚   â”‚                    â”‚            â”‚
â”‚   â”‚        [Larger     â”‚            â”‚
â”‚   â”‚         detail     â”‚            â”‚
â”‚   â”‚         view]    4000mm         â”‚
â”‚   â”‚                    â”‚            â”‚
â”‚   â”‚                    â”‚            â”‚
â”‚   â”‚                    â—            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Preview View - Polygon Room Display

### Rectangular Room (Existing)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Preview                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ â•­â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â•® â”‚   â”‚ â† Usable area (dashed)
â”‚   â”‚ â”Š â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”â”Š â”‚   â”‚
â”‚   â”‚ â”Š â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜â”Š â”‚   â”‚ â† Placed pieces
â”‚   â”‚ â”Š â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”â”Š â”‚   â”‚   (green = installed)
â”‚   â”‚ â”Š â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜â”Š â”‚   â”‚
â”‚   â”‚ â•°â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â•¯ â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â† Room outline (solid)
â”‚                                     â”‚
â”‚  [Fit] Zoom: 1.0x  [Export â†—]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Polygon Room (NEW)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Preview                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—         â”‚ â† Polygon outline
â”‚   â”‚ â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”‚         â”‚   with vertices (â—)
â”‚   â”‚ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â”‚         â”‚
â”‚   â”‚ â”Œâ”€â” â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”     â—         â”‚ â† L-shaped room
â”‚   â”‚ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜     â”‚         â”‚
â”‚   â”‚ â”Œâ”€â” â”Œâ”€â”             â”‚         â”‚ â† Pieces placed
â”‚   â”‚ â””â”€â”˜ â””â”€â”˜ â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   within polygon
â”‚   â”‚ â”Œâ”€â” â”Œâ”€â” â”‚                     â”‚
â”‚   â—â”€â”´â”€â”´â”€â”´â”€â”´â”€â—                     â”‚
â”‚                                     â”‚
â”‚  [Fit] Zoom: 1.0x  [Export â†—]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Legend

```
Room Designer:
- Grid lines: Gray (30% opacity)
- Points: Blue filled circles
- Lines: Blue solid (3px)
- Dimension labels: Blue text

Preview:
- Room outline: Gray solid (2px)
- Usable area: Blue dashed (rectangular only)
- Polygon vertices: Blue dots
- Installed pieces: Green fill (30% opacity), green border
- Needed pieces: Red fill (20% opacity), red dashed border
```

## Example Workflows

### Workflow 1: Creating L-Shaped Room

1. User opens Room Settings
2. Changes picker to "Custom Polygon"
3. Taps "Design Custom Room"
4. Designer opens with empty grid
5. User taps 6 points to create L-shape:
   ```
   Point 1: (0, 0)      - Bottom left
   Point 2: (6000, 0)   - Bottom right  
   Point 3: (6000, 4000)- Top right
   Point 4: (2000, 4000)- Inner corner top
   Point 5: (2000, 2000)- Inner corner bottom
   Point 6: (0, 2000)   - Left middle
   ```
6. Taps "Close Shape"
7. Taps "Done"
8. Confirmation: "Apply Room Design?"
9. Taps "Apply"
10. Back to Room Settings - shows 6 points, 16.00 mÂ²

### Workflow 2: Generating Layout with Polygon

1. User has L-shaped room defined
2. Configures material and stock
3. Taps "Generate Layout"
4. Layout engine:
   - Uses bounding box (6000Ã—4000) for initial placement
   - Validates each piece with contains(x, y)
   - Places pieces in L-shaped area only
5. Preview shows:
   - L-shaped room outline
   - Pieces within the L
   - Empty space where cutout is
   - Vertex markers

### Workflow 3: Editing Existing Polygon

1. User has polygon room
2. Opens Room Settings
3. Taps "Design Custom Room"
4. Designer opens with existing points
5. Taps "Undo" to remove last 2 points
6. Places new points
7. Taps "Close Shape"
8. Taps "Done"
9. Confirms apply
10. Room updated

## Technical Notes

### Coordinate System

```
Origin (0,0) is at top-left of canvas
X increases to the right
Y increases downward

Example room:
(0,0)â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—(6000,0)
     â”‚              â”‚
     â”‚              â”‚
     â”‚              â”‚
     â”‚              â”‚
(0,4000)â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—(6000,4000)
```

### Grid Snapping

```
Grid size: 500mm
Snap threshold: 125mm (1/4 grid)

Point placement:
User taps at (750, 1200)
â†“
Snaps to (500, 1000) - nearest grid intersection
```

### Area Calculation Display

```
Room Type: Custom Polygon
Points: 6

Calculations shown:
- Gross Area: 16.00 mÂ² (shoelace formula)
- Usable Area: 15.76 mÂ² (approx, after gap)
- Bounding Box: 6000Ã—4000mm (for layout engine)
- Perimeter: 18000mm (for gap calculation)
```

## Accessibility

- All buttons have labels
- Status text is readable
- Dimension labels are clear
- High contrast colors
- Supports Dynamic Type
- VoiceOver compatible

## Performance

- Efficient Canvas rendering
- Smooth zoom/pan gestures
- Real-time dimension updates
- Handles up to 50 points
- No lag with complex shapes

---

**Implementation Status:**
- âœ… Models and data structures
- âœ… Room Designer View (SwiftUI + Canvas)
- âœ… Room Settings integration
- âœ… Preview rendering
- â³ Layout engine integration (pending)
- â³ Manual testing (requires Xcode build)
